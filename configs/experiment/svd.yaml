# @package _global_

defaults:
  - override /data: h5_video_dataset 
  - override /model: svd 
  - override /callbacks: default
  - override /trainer: ddp
  - override /paths: default

tags: ["diffussion", "stage1"]
train: True
test: False #True
seed: 1401
ckpt_path: null #logs/train/runs/2024-08-25_13-23-05/checkpoints/last.ckpt  # null
allow_tf32: True

paths:
  data_dir: /var/tmp/yoda3

callbacks:
  early_stopping:
    monitor: "train/loss"
    patience: 100
    mode: "min"
  model_checkpoint:
    monitor: "train/loss"
    mode: "min"
    save_last: True
    save_top_k: 1
    auto_insert_metric_name: False
    dirpath: ${paths.output_dir}/checkpoints
    filename: "epoch_{epoch:03d}"
  model_summary:
    max_depth: 0

